{% extends "base.html" %}

{% block title %}Editar Egresado - Control de Egresados{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<script src="{{ url_for('static', filename='js/script.js') }}"></script>

<div class="container py-4">
    <div class="form-header-compact text-center mb-4">
        <h2 class="form-title-compact mb-2">
            <i class="fas fa-user-edit me-2 text-primary"></i>Editar Egresado
        </h2>
        <p class="text-muted small mb-0">Actualice la información del egresado: <strong>{{ egresado.nombre_completo }}</strong></p>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10 col-md-12">
            <div class="card form-card-compact">
                <div class="card-header bg-primary-compact py-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-edit me-2"></i>
                        <h5 class="mb-0">Formulario de Edición</h5>
                    </div>
                </div>
                
                <div class="card-body p-4">
                    <form method="POST" id="editarEgresadoForm" class="needs-validation" novalidate>
                        <!-- Sección 1: Información Básica -->
                        <div class="form-section-compact mb-4">
                            <h6 class="section-title-sm mb-3">
                                <i class="fas fa-user me-1"></i> Información Básica
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Matrícula (deshabilitada) -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label class="form-label-sm">
                                            Matrícula <span class="text-muted">(No editable)</span>
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-hashtag"></i>
                                            </span>
                                            <input type="text" class="form-control-sm" 
                                                   value="{{ egresado.matricula }}" 
                                                   disabled style="background-color: #f8f9fa;">
                                        </div>
                                        <small class="form-text-sm">
                                            <i class="fas fa-info-circle me-1"></i> La matrícula no se puede modificar
                                        </small>
                                        <input type="hidden" name="matricula" value="{{ egresado.matricula }}">
                                    </div>
                                </div>
                                
                                <!-- Nombre Completo -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="nombre_completo" class="form-label-sm">
                                            Nombre Completo <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-user"></i>
                                            </span>
                                            <input type="text" class="form-control-sm" 
                                                   id="nombre_completo" name="nombre_completo" 
                                                   value="{{ egresado.nombre_completo }}" required
                                                   placeholder="Nombre completo">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sección 2: Formación Académica -->
                        <div class="form-section-compact mb-4">
                            <h6 class="section-title-sm mb-3">
                                <i class="fas fa-graduation-cap me-1"></i> Formación Académica
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Carrera -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="carrera" class="form-label-sm">
                                            Carrera <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-book"></i>
                                            </span>
                                            <select class="form-select-sm" id="carrera" name="carrera" required>
                                                <option value="">Seleccionar...</option>
                                                <option value="Ingeniería en Innovación Agrícola Sustentable" 
                                                        {% if egresado.carrera == 'Ingeniería en Innovación Agrícola Sustentable' %}selected{% endif %}>
                                                    Ingeniería en Innovación Agrícola Sustentable
                                                </option>
                                                <option value="Ingeniería en Sistemas Computacionales" 
                                                        {% if egresado.carrera == 'Ingeniería en Sistemas Computacionales' %}selected{% endif %}>
                                                    Ingeniería en Sistemas Computacionales
                                                </option>
                                                <option value="Licenciatura en Contaduría" 
                                                        {% if egresado.carrera == 'Licenciatura en Contaduría' %}selected{% endif %}>
                                                    Licenciatura en Contaduría
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Generación -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="generacion" class="form-label-sm">
                                            Generación <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-calendar"></i>
                                            </span>
                                            <select class="form-select-sm" id="generacion" name="generacion" required>
                                                <option value="">Seleccionar...</option>
                                                {% for year in range(2007, 2027) %}
                                                <option value="{{ year }}-{{ year+5 }}" 
                                                        {% if egresado.generacion == year|string + '-' + (year+5)|string %}selected{% endif %}>
                                                    {{ year }}-{{ year+5 }}
                                                </option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sección 3: Estatus y Datos Personales -->
                        <div class="form-section-compact mb-4">
                            <h6 class="section-title-sm mb-3">
                                <i class="fas fa-info-circle me-1"></i> Estatus y Datos Personales
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Estatus -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="estatus" class="form-label-sm">
                                            Estatus <span class="text-danger">*</span>
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-flag"></i>
                                            </span>
                                            <select class="form-select-sm" id="estatus" name="estatus" required>
                                                <option value="">Seleccionar...</option>
                                                <option value="Egresado" {% if egresado.estatus == 'Egresado' %}selected{% endif %}>Egresado</option>
                                                <option value="En seguimiento" {% if egresado.estatus == 'En seguimiento' %}selected{% endif %}>En seguimiento</option>
                                                <option value="Titulado" {% if egresado.estatus == 'Titulado' %}selected{% endif %}>Titulado</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Género -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="genero" class="form-label-sm">
                                            Género
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-venus-mars"></i>
                                            </span>
                                            <select class="form-select-sm" id="genero" name="genero">
                                                <option value="">Seleccionar...</option>
                                                <option value="Masculino" {% if egresado.genero == 'Masculino' %}selected{% endif %}>Masculino</option>
                                                <option value="Femenino" {% if egresado.genero == 'Femenino' %}selected{% endif %}>Femenino</option>
                                                <option value="Otro" {% if egresado.genero == 'Otro' %}selected{% endif %}>Otro</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Domicilio -->
                            <div class="row g-3 mt-2">
                                <div class="col-12">
                                    <div class="form-group-compact">
                                        <label for="domicilio" class="form-label-sm">
                                            Domicilio
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-home"></i>
                                            </span>
                                            <input type="text" class="form-control-sm" id="domicilio" name="domicilio"
                                                   value="{{ egresado.domicilio if egresado.domicilio else '' }}"
                                                   placeholder="Dirección completa">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sección 4: Información de Contacto -->
                        <div class="form-section-compact mb-4">
                            <h6 class="section-title-sm mb-3">
                                <i class="fas fa-address-book me-1"></i> Información de Contacto
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Teléfono -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="telefono" class="form-label-sm">
                                            Teléfono
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-phone"></i>
                                            </span>
                                            <input type="tel" class="form-control-sm" id="telefono" name="telefono"
                                                   value="{{ egresado.telefono if egresado.telefono else '' }}"
                                                   placeholder="Número de teléfono">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Email -->
                                <div class="col-md-6">
                                    <div class="form-group-compact">
                                        <label for="email" class="form-label-sm">
                                            Correo Electrónico
                                        </label>
                                        <div class="input-group-sm">
                                            <span class="input-group-icon">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                            <input type="email" class="form-control-sm" id="email" name="email"
                                                   value="{{ egresado.email if egresado.email else '' }}"
                                                   placeholder="correo@ejemplo.com">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pie del formulario -->
                        <div class="form-footer-compact border-top pt-4 mt-3">
                            <div class="row align-items-center">
                                <div class="col-md-6 mb-3 mb-md-0">
                                    <div class="required-info">
                                        <small class="text-muted">
                                            <i class="fas fa-asterisk text-danger small me-1"></i> Campos obligatorios
                                        </small>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="d-flex justify-content-end gap-3">
                                        <a href="/dashboard" class="btn btn-cancel-lg">
                                            <i class="fas fa-times me-2"></i> Cancelar
                                        </a>
                                        <button type="submit" class="btn btn-primary-lg">
                                            <i class="fas fa-save me-2"></i> Actualizar Egresado
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>




{% endblock %}